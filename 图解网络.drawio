<mxfile host="app.diagrams.net" modified="2022-11-14T07:04:40.181Z" agent="5.0 (Macintosh; Intel Mac OS X 10_13_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36" etag="e7CU3Yg7q8dMMRpyaIzi" version="20.5.3" type="github" pages="3">
  <diagram id="48ETrjCSjWNvzhYSmwD_" name="网络包接收">
    <mxGraphModel dx="946" dy="1815" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-86" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;strokeWidth=2;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="130" y="553" width="720" height="140" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-82" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;dashed=1;strokeWidth=2;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="132.5" y="46" width="717.5" height="300" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-1" value="网卡" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="145" y="572" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-2" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;strokeWidth=2;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="130" y="380" width="720" height="140" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-3" value="CPU" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry y="219" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-4" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.donut;dx=25;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="557" y="425" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-5" value="" style="endArrow=none;html=1;rounded=0;exitX=0.593;exitY=0.322;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.69;entryY=0.058;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-4" target="DZg0SzJ-2mYi3TYw6h-q-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="587" y="515" as="sourcePoint" />
            <mxPoint x="607" y="495" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-6" value="" style="endArrow=none;html=1;rounded=0;exitX=0.7;exitY=0.539;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.598;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-4" target="DZg0SzJ-2mYi3TYw6h-q-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="609.4000000000001" y="519.6400000000001" as="sourcePoint" />
            <mxPoint x="622.2" y="499.6400000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-7" value="" style="endArrow=none;html=1;rounded=0;entryX=0.533;entryY=0.996;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.52;exitY=0.689;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-4" target="DZg0SzJ-2mYi3TYw6h-q-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="597" y="535" as="sourcePoint" />
            <mxPoint x="647" y="542.8399999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-8" value="" style="endArrow=none;html=1;rounded=0;entryX=0.047;entryY=0.699;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.303;exitY=0.532;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-4" target="DZg0SzJ-2mYi3TYw6h-q-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="604.36" y="549.88" as="sourcePoint" />
            <mxPoint x="599" y="574.84" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-9" value="" style="endArrow=none;html=1;rounded=0;entryX=0.337;entryY=0.402;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.113;exitY=0.176;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-4" target="DZg0SzJ-2mYi3TYw6h-q-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="591.24" y="537.5600000000001" as="sourcePoint" />
            <mxPoint x="570.76" y="550.9200000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-10" value="" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="147" y="636" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-11" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.625;exitY=0.2;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-10" target="DZg0SzJ-2mYi3TYw6h-q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="10" y="660" as="sourcePoint" />
            <mxPoint x="60" y="610" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-12" value="1. 外部数据到达网卡" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="190" y="610" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-13" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="640" as="sourcePoint" />
            <mxPoint x="590" y="500" as="targetPoint" />
            <Array as="points">
              <mxPoint x="590" y="590" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-14" value="2. 网卡把数据帧DMA到内存" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="360" y="590" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-15" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-1" target="DZg0SzJ-2mYi3TYw6h-q-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="30" y="520" as="sourcePoint" />
            <mxPoint x="80" y="470" as="targetPoint" />
            <Array as="points">
              <mxPoint x="20" y="592" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-16" value="3. 发出RQ硬中断" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="20" y="590" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-17" value="RingBuffer满，数据帧直接丢弃" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="600" y="590" width="96" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-20" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.625;entryY=0.2;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-1" target="DZg0SzJ-2mYi3TYw6h-q-21" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="630" as="sourcePoint" />
            <mxPoint x="450" y="580" as="targetPoint" />
            <Array as="points">
              <mxPoint x="590" y="590" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-21" value="" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="568" y="640" width="34" height="20" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-23" value="&lt;span style=&quot;color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Source Han Sans SC&amp;quot;, &amp;quot;Noto Sans CJK SC&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;ksoftirqd&lt;/span&gt;&lt;br style=&quot;color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Source Han Sans SC&amp;quot;, &amp;quot;Noto Sans CJK SC&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Source Han Sans SC&amp;quot;, &amp;quot;Noto Sans CJK SC&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;内核进程，处理软中断&lt;/span&gt;&lt;span style=&quot;color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Source Han Sans SC&amp;quot;, &amp;quot;Noto Sans CJK SC&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;strokeColor=#996185;gradientColor=#d5739d;" parent="1" vertex="1">
          <mxGeometry x="207" y="216" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-24" value="&lt;span style=&quot;color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Source Han Sans SC&amp;quot;, &amp;quot;Noto Sans CJK SC&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;驱动注册的poll函数&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" parent="1" vertex="1">
          <mxGeometry x="370" y="452" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-25" value="&lt;span style=&quot;color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Source Han Sans SC&amp;quot;, &amp;quot;Noto Sans CJK SC&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;网卡注册的中断处理函数&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" parent="1" vertex="1">
          <mxGeometry x="152" y="441" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-26" value="" style="endArrow=classic;html=1;rounded=0;fontSize=12;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-3" target="DZg0SzJ-2mYi3TYw6h-q-25" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="90" y="470" as="sourcePoint" />
            <mxPoint x="140" y="420" as="targetPoint" />
            <Array as="points">
              <mxPoint x="60" y="456" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-27" value="4. CPU响应硬中断&lt;br&gt;调用处理中断函数" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="37" y="460" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-28" value="on / off" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fontSize=12;fillColor=#e6d0de;strokeColor=#996185;gradientColor=#d5739d;" parent="1" vertex="1">
          <mxGeometry x="252" y="287" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-29" value="" style="endArrow=classic;html=1;rounded=0;fontSize=12;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.871;exitY=-0.049;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-25" target="DZg0SzJ-2mYi3TYw6h-q-28" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="265" y="490" as="sourcePoint" />
            <mxPoint x="240" y="640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-30" value="4.2 设置软中断标识" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="280" y="400" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-31" value="" style="endArrow=classic;html=1;rounded=0;fontSize=12;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-28" target="DZg0SzJ-2mYi3TYw6h-q-23" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-10" y="306" as="sourcePoint" />
            <mxPoint x="40" y="256" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-32" value="napi_struct" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;fillColor=#e6d0de;strokeColor=#996185;gradientColor=#d5739d;" parent="1" vertex="1">
          <mxGeometry x="167" y="176" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-33" value="napi_struct" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;fillColor=#e6d0de;strokeColor=#996185;gradientColor=#d5739d;" parent="1" vertex="1">
          <mxGeometry x="247" y="176" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-34" value="每个CPU的 poll_list" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="10" y="166" width="115" height="20" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-35" value="napi_struct" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;fillColor=#e6d0de;strokeColor=#996185;gradientColor=#d5739d;" parent="1" vertex="1">
          <mxGeometry x="327" y="176" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-36" value="net_rx_action" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;fillColor=#e6d0de;strokeColor=#996185;gradientColor=#d5739d;" parent="1" vertex="1">
          <mxGeometry x="378" y="266" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-37" value="" style="endArrow=classic;html=1;rounded=0;fontSize=12;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=1;exitDx=0;exitDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-23" target="DZg0SzJ-2mYi3TYw6h-q-36" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="340" y="236" as="sourcePoint" />
            <mxPoint x="415" y="366" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-38" value="napi_struct" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;fillColor=#e6d0de;strokeColor=#996185;gradientColor=#d5739d;" parent="1" vertex="1">
          <mxGeometry x="407" y="176" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-39" value="" style="endArrow=classic;html=1;rounded=0;fontSize=12;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-3" target="DZg0SzJ-2mYi3TYw6h-q-32" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="30" y="300" as="sourcePoint" />
            <mxPoint x="80" y="250" as="targetPoint" />
            <Array as="points">
              <mxPoint x="40" y="186" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-40" value="" style="endArrow=classic;html=1;rounded=0;fontSize=12;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-36" target="DZg0SzJ-2mYi3TYw6h-q-38" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="420" y="286" as="sourcePoint" />
            <mxPoint x="470" y="236" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-41" value="" style="endArrow=classic;html=1;rounded=0;fontSize=12;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-38" target="DZg0SzJ-2mYi3TYw6h-q-24" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="315" y="270" as="sourcePoint" />
            <mxPoint x="425" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-42" value="skb_buff" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="565" y="287" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-43" value="" style="endArrow=classic;html=1;rounded=0;fontSize=12;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.161;entryY=0.161;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-24" target="DZg0SzJ-2mYi3TYw6h-q-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="518.9999999999995" y="424" as="sourcePoint" />
            <mxPoint x="739" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-44" value="" style="endArrow=classic;html=1;rounded=0;fontSize=12;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-4" target="DZg0SzJ-2mYi3TYw6h-q-42" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="709" y="400" as="sourcePoint" />
            <mxPoint x="613" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-50" value="IP头" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="560" y="226" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-51" value="UDP头" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="600" y="226" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-52" value="应用数据" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="640" y="226" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-59" value="UDP头" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="601" y="166" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-60" value="应用数据" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="641" y="166" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-61" value="应用数据" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="640" y="98" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-62" value="" style="endArrow=classic;html=1;rounded=0;fontSize=12;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=1;entryDx=0;entryDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-42" target="DZg0SzJ-2mYi3TYw6h-q-52" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="670" y="346" as="sourcePoint" />
            <mxPoint x="720" y="296" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-63" value="" style="endArrow=classic;html=1;rounded=0;fontSize=12;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-42" target="DZg0SzJ-2mYi3TYw6h-q-50" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="510" y="276" as="sourcePoint" />
            <mxPoint x="560" y="226" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-64" value="7. 协议栈处理" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="710" y="176" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-65" value="" style="endArrow=classic;html=1;rounded=0;fontSize=12;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-52" target="DZg0SzJ-2mYi3TYw6h-q-60" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="910" y="196" as="sourcePoint" />
            <mxPoint x="960" y="146" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-66" value="" style="endArrow=classic;html=1;rounded=0;fontSize=12;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-60" target="DZg0SzJ-2mYi3TYw6h-q-61" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="679.9999999999995" y="236" as="sourcePoint" />
            <mxPoint x="681" y="206" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-67" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="280" y="70" width="210" height="64" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-68" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;socket&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="152" y="87" width="85" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-69" value="接收队列" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="340" y="68" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-70" value="应用数据" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="310" y="98" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-71" value="应用数据" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="370" y="98" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-72" value="" style="endArrow=classic;html=1;rounded=0;fontSize=14;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-68" target="DZg0SzJ-2mYi3TYw6h-q-67" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="240" y="26" as="sourcePoint" />
            <mxPoint x="290" y="-24" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-73" value="" style="endArrow=classic;html=1;rounded=0;fontSize=14;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-61" target="DZg0SzJ-2mYi3TYw6h-q-71" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="770" y="16" as="sourcePoint" />
            <mxPoint x="820" y="-34" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-75" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;strokeWidth=2;dashed=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="130" y="-60" width="480" height="60" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-76" value="应用数据" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="385" y="-45" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-77" value="应用程序" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
          <mxGeometry x="160" y="-50" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-78" value="5. 轮询poll_list" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="350" y="226" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-79" value="6. 将数据从 ringBuffer &lt;br&gt;copy 到 skb_buff" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="600" y="390" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-80" value="" style="endArrow=classic;html=1;rounded=0;fontSize=14;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-25" target="DZg0SzJ-2mYi3TYw6h-q-32" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="420" as="sourcePoint" />
            <mxPoint x="-80" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-81" value="8. 放到 socket 的接收缓冲区" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="530" y="76" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-84" value="内核层" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=14;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="860" y="205" width="120" height="31" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-85" value="驱动层" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=14;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="860" y="440" width="120" height="31" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-87" value="4.1 添加到 poll_list" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="132.5" y="395" width="83" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-89" value="硬件层" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=14;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="860" y="600" width="120" height="31" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-90" value="应用层" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=14;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="860" y="-60" width="120" height="31" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-91" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=14;exitX=0.137;exitY=1.07;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="DZg0SzJ-2mYi3TYw6h-q-68" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="195.76" y="1.2000000000000455" as="sourcePoint" />
            <mxPoint x="196" y="47" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-92" value="系统调用" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;strokeWidth=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="208" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-93" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=14;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="DZg0SzJ-2mYi3TYw6h-q-71" target="DZg0SzJ-2mYi3TYw6h-q-76" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="459.40999999999997" y="-139.99999999999994" as="sourcePoint" />
            <mxPoint x="459.65" y="-94.19999999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-94" value="内核态copy" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;strokeWidth=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="426" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DZg0SzJ-2mYi3TYw6h-q-103" value="1. 中断分离为软硬： 硬中断必须尽快处理，其他耗时操作由软中断执行&lt;br&gt;2. 网卡接收队列 (RX队列)， 也就是 RingBuffer,&amp;nbsp; 由网卡驱动向内核申请内存并建立 RX队列与内存的映射关系&lt;br&gt;3. NAPI机制 ： 结合轮询和中断的优点，通过批量从 ring_buffer 收包提高效率&lt;br&gt;4.上图有2个数据拷贝过程：&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(1)&amp;nbsp; 网卡DMA数据到 RingBuffer&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(2) 软中断进程从 RingBuffer 拷贝到 skb_buffer" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=14;align=left;fillColor=#f9f7ed;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="20" y="750" width="780" height="190" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="i9-ArT53JYzOh_GW2-HT" name="网络包发送">
    <mxGraphModel dx="946" dy="646" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Kq2USll9XBpFjJCKni5o-47" value="" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="102" y="597" width="328" height="93" as="geometry" />
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-36" value="" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="100" y="290" width="450" height="260" as="geometry" />
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-43" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="200" y="440" width="320" height="39" as="geometry" />
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-42" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="200" y="401" width="320" height="39" as="geometry" />
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-26" value="" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="94" y="179" width="248" height="54" as="geometry" />
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-4" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="760" y="998.61" width="70" height="60" as="geometry" />
        </mxCell>
        <mxCell id="l99JiHOt-DBDd0HDe1QJ-2" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=11;dashed=1;fillColor=#e6d0de;strokeColor=#996185;gradientColor=#d5739d;" parent="1" vertex="1">
          <mxGeometry x="1006.5" y="975.48" width="158" height="109.31" as="geometry" />
        </mxCell>
        <mxCell id="qOd44PC1JKEmm9A3ZsG9-3" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=11;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="160" y="800" width="269.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="qOd44PC1JKEmm9A3ZsG9-1" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=11;dashed=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" parent="1" vertex="1">
          <mxGeometry x="120" y="970" width="528" height="129.66" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-35" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="140.5" y="320" width="208" height="40" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-2" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;应用程序&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="178" y="82.5" width="80" height="25" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-4" value="" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="223" y="130" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-18" value="sock_sendmsg" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="168" y="192.5" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-20" value="inet_sendmsg" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="149" y="330" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-21" value="inet_recvmsg" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="260.5" y="330" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-24" value="系统调用" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry y="191" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-25" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="450" y="160" width="200" height="73" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-26" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="590" y="270" width="130" height="90" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-28" value="发送队列" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="600" y="335" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-29" value="&lt;b&gt;socket&lt;/b&gt;" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="512.25" y="166.5" width="85" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-30" value="sock" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="567" y="203" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-31" value="proto_ops" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="461" y="203" width="89" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-32" value="&lt;b&gt;sock&lt;/b&gt;" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="612.5" y="280" width="85" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-33" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="382" y="310" width="151" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-34" value="sendmsg" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="392" y="340" width="61" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-35" value="recvmsg" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="462" y="340" width="61" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-36" value="&lt;b&gt;inet_stream_ops&lt;/b&gt;" style="text;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="422" y="310" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-42" value="skb" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="605" y="410" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-43" value="skb" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="645" y="410" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-44" value="skb" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="685" y="410" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-52" value="协议栈" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="2" y="390" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nWpBOQFV4bgc_5KaAe95-54" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;fontSize=12;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="nWpBOQFV4bgc_5KaAe95-31" target="nWpBOQFV4bgc_5KaAe95-36" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="390" y="413" as="sourcePoint" />
            <mxPoint x="440" y="363" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-8" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1210" y="50" width="276" height="40" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-9" value="用户数据" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1420" y="57.5" width="55" height="25" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-10" value="HTTP头" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1365" y="57.5" width="55" height="25" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-11" value="TCP头" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1310" y="57.5" width="55" height="25" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-12" value="IP头" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1270" y="57.5" width="40" height="25" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-13" value="MAC头" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1224" y="57.5" width="46" height="25" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-16" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=12;entryX=0;entryY=1;entryDx=0;entryDy=0;width=8;endSize=5.03;" parent="1" target="d_tJmELuOyiOzMssTjBy-11" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1310" y="130" as="sourcePoint" />
            <mxPoint x="1348" y="120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-21" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1210" y="160" width="276" height="40" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-22" value="用户数据" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1420" y="167.5" width="55" height="25" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-23" value="HTTP头" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1365" y="167.5" width="55" height="25" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-24" value="TCP头" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1310" y="167.5" width="55" height="25" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-25" value="IP头" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1270" y="167.5" width="40" height="25" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-26" value="MAC头" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1224" y="167.5" width="46" height="25" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-27" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=12;entryX=0;entryY=1;entryDx=0;entryDy=0;width=8;endSize=5.03;" parent="1" target="d_tJmELuOyiOzMssTjBy-25" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1270" y="240" as="sourcePoint" />
            <mxPoint x="1348" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-34" value="邻居子系统&lt;br&gt;（链路层）" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffff88;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry y="629.25" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-36" value="tcp层" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="110" y="422" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-38" value="&lt;span style=&quot;text-align: left;&quot;&gt;加入到发送队列&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="409.5" y="410" width="96" height="22" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-39" value="&lt;span style=&quot;text-align: left;&quot;&gt;申请skb&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="226" y="409" width="60" height="22" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-40" value="&lt;span style=&quot;text-align: left;&quot;&gt;拷贝数据到skb&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="305" y="410" width="83" height="22" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-42" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;align=left;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="200" y="495.25" width="249.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-45" value="&lt;span style=&quot;text-align: left;&quot;&gt;滑动窗口管理&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="206" y="448.5" width="83" height="22" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-46" value="&lt;div style=&quot;text-align: left;&quot;&gt;复制新 skb&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="369.5" y="448.5" width="66" height="22" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-49" value="&lt;div style=&quot;text-align: left;&quot;&gt;设置TCP头&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="445.5" y="448.5" width="66" height="21.5" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-50" value="&lt;span style=&quot;text-align: left;&quot;&gt;查找并设置路由项&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="205.5" y="503.5" width="104" height="22" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-51" value="&lt;span style=&quot;text-align: left;&quot;&gt;设置IP头&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="315.5" y="503.5" width="54" height="22" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-52" value="&lt;span style=&quot;text-align: left;&quot;&gt;MTU分片&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="375" y="503.5" width="64" height="22" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-53" value="ip层" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="110" y="503.5" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-54" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;align=left;fillColor=#ffff88;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="119.75" y="625" width="249.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-55" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;发送arp请求&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffff88;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="143.25" y="633.25" width="104" height="22" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-56" value="&lt;span style=&quot;text-align: left;&quot;&gt;封装MAC头&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffff88;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="257.75" y="633.25" width="72.5" height="22" as="geometry" />
        </mxCell>
        <mxCell id="d_tJmELuOyiOzMssTjBy-58" value="网络设备子系统" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="1" vertex="1">
          <mxGeometry x="4" y="813" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XbONyzNP04PFWlW8N7Ye-1" value="网卡" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="318" y="1160.66" width="292" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fhNX098NFQxCs9K4Y-Ol-1" value="CPU" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="770" y="1013.61" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6xZyYvAfHEQ0KRO94rbm-1" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="249" y="833" width="118" height="40" as="geometry" />
        </mxCell>
        <mxCell id="6xZyYvAfHEQ0KRO94rbm-2" value="发送队列" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="181" y="840" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6xZyYvAfHEQ0KRO94rbm-3" value="skb" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="263" y="840" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="6xZyYvAfHEQ0KRO94rbm-4" value="skb" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="293" y="840" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="6xZyYvAfHEQ0KRO94rbm-5" value="skb" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="323" y="840" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="6xZyYvAfHEQ0KRO94rbm-9" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="715" y="570.25" width="160" height="158" as="geometry" />
        </mxCell>
        <mxCell id="6xZyYvAfHEQ0KRO94rbm-10" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;softnet_data&lt;/font&gt;" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;strokeWidth=1;fontSize=12;gradientColor=#ffd966;" parent="1" vertex="1">
          <mxGeometry x="765" y="572.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6xZyYvAfHEQ0KRO94rbm-11" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;output_queue&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="728" y="607.25" width="137" height="58" as="geometry" />
        </mxCell>
        <mxCell id="6xZyYvAfHEQ0KRO94rbm-15" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=12;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" target="qOfPLbBEWvOK8f_94mgU-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="225" y="690" as="sourcePoint" />
            <mxPoint x="224" y="770" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LXg-4gbv711vPCfO4mxz-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;ksoftirqd&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffcd28;strokeColor=#d79b00;gradientColor=#ffa500;" parent="1" vertex="1">
          <mxGeometry x="735" y="795.25" width="120" height="100" as="geometry" />
        </mxCell>
        <mxCell id="Jykv9N3VzOnZ-VqEk8VF-3" value="软中断" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="587" y="818" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Jykv9N3VzOnZ-VqEk8VF-11" value="驱动程序" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" parent="1" vertex="1">
          <mxGeometry x="10" y="1019.66" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-4" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.donut;dx=25;strokeWidth=1;fontSize=12;fillColor=#cdeb8b;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="160" y="1010.02" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-5" value="" style="endArrow=none;html=1;rounded=0;fontSize=12;exitX=0.491;exitY=0.306;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.501;entryY=-0.004;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#cdeb8b;strokeColor=#36393d;" parent="1" source="URx9ZOwbEs3rh5WGHnOP-4" target="URx9ZOwbEs3rh5WGHnOP-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="1030.02" as="sourcePoint" />
            <mxPoint x="203.5" y="1010.02" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-6" value="" style="endArrow=none;html=1;rounded=0;fontSize=12;exitX=0.677;exitY=0.411;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.943;entryY=0.268;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#cdeb8b;strokeColor=#36393d;" parent="1" source="URx9ZOwbEs3rh5WGHnOP-4" target="URx9ZOwbEs3rh5WGHnOP-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="212.31999999999994" y="1045.22" as="sourcePoint" />
            <mxPoint x="213.5" y="1020.02" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-7" value="" style="endArrow=none;html=1;rounded=0;fontSize=12;exitX=0.639;exitY=0.63;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.891;entryY=0.811;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#cdeb8b;strokeColor=#36393d;" parent="1" source="URx9ZOwbEs3rh5WGHnOP-4" target="URx9ZOwbEs3rh5WGHnOP-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="224.16000000000008" y="1052.9000000000003" as="sourcePoint" />
            <mxPoint x="245.44000000000005" y="1041.4599999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-8" value="" style="endArrow=none;html=1;rounded=0;fontSize=12;exitX=0.477;exitY=0.682;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.477;entryY=0.987;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#cdeb8b;strokeColor=#36393d;" parent="1" source="URx9ZOwbEs3rh5WGHnOP-4" target="URx9ZOwbEs3rh5WGHnOP-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="221.12000000000012" y="1070.4199999999998" as="sourcePoint" />
            <mxPoint x="241.2800000000002" y="1084.8999999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-9" value="" style="endArrow=none;html=1;rounded=0;fontSize=12;exitX=0.315;exitY=0.563;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.034;entryY=0.682;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#cdeb8b;strokeColor=#36393d;" parent="1" source="URx9ZOwbEs3rh5WGHnOP-4" target="URx9ZOwbEs3rh5WGHnOP-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="221.12000000000012" y="1070.4199999999998" as="sourcePoint" />
            <mxPoint x="241.2800000000002" y="1084.8999999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-10" value="" style="endArrow=none;html=1;rounded=0;fontSize=12;exitX=0.091;exitY=0.196;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.334;entryY=0.392;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#cdeb8b;strokeColor=#36393d;" parent="1" source="URx9ZOwbEs3rh5WGHnOP-4" target="URx9ZOwbEs3rh5WGHnOP-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="195.20000000000005" y="1065.0599999999997" as="sourcePoint" />
            <mxPoint x="172.72000000000003" y="1074.5800000000002" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-11" value="skb" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="421" y="1038" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-12" value="0" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="286.5" y="1020.3" width="31.5" height="19.68" as="geometry" />
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-13" value="1" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="286.5" y="1040.6200000000001" width="31.5" height="19.68" as="geometry" />
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-18" value=".." style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="286.5" y="1060.3" width="31.5" height="19.68" as="geometry" />
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-19" value="0" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="527.25" y="1019.34" width="31.5" height="19.68" as="geometry" />
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-20" value="1" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="527.25" y="1039.66" width="31.5" height="19.68" as="geometry" />
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-21" value=".." style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="527.25" y="1059.3400000000001" width="31.5" height="19.68" as="geometry" />
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-22" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;内核使用的指针数组&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="246.5" y="989.3399999999999" width="136" height="30" as="geometry" />
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-23" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;网卡使用的指针数组&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="455" y="989.3399999999999" width="136" height="30" as="geometry" />
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-24" value="" style="endArrow=classic;html=1;rounded=0;fontSize=10;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="URx9ZOwbEs3rh5WGHnOP-13" target="URx9ZOwbEs3rh5WGHnOP-11" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="397" y="1069.34" as="sourcePoint" />
            <mxPoint x="410" y="1057.64" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-27" value="" style="endArrow=classic;html=1;rounded=0;fontSize=10;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="URx9ZOwbEs3rh5WGHnOP-20" target="URx9ZOwbEs3rh5WGHnOP-11" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="359.0000000000002" y="1019.4999999999999" as="sourcePoint" />
            <mxPoint x="431" y="1047.0000000000002" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-28" value="&lt;font color=&quot;#ff3333&quot;&gt;DMA映射&lt;/font&gt;" style="text;html=1;strokeColor=#36393d;fillColor=#eeeeee;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;strokeWidth=1;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="460" y="1048.7" width="55" height="20" as="geometry" />
        </mxCell>
        <mxCell id="URx9ZOwbEs3rh5WGHnOP-29" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 11px; color: rgb(255, 51, 51); background-color: initial;&quot;&gt;1. 获取可用缓冲区&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 11px;&quot; color=&quot;#ff3333&quot;&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;2. 挂载skb&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;strokeWidth=1;fontSize=10;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="322" y="1050.14" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="uNaYq79lvQVNBIdCaUQu-2" value="&lt;font color=&quot;#000000&quot;&gt;发送完成，触发硬中断&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;strokeWidth=1;fontSize=11;fontColor=#FF3333;" parent="1" vertex="1">
          <mxGeometry x="673.5" y="1190.66" width="127" height="30" as="geometry" />
        </mxCell>
        <mxCell id="qOd44PC1JKEmm9A3ZsG9-2" value="skb" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="238" y="915" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="qOd44PC1JKEmm9A3ZsG9-4" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=11;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="998" y="798.25" width="175" height="90" as="geometry" />
        </mxCell>
        <mxCell id="yODOv7n8D-4_452CkPnh-1" value="&lt;span style=&quot;font-size: 11px;&quot;&gt;环回设备&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1060" y="798.25" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yODOv7n8D-4_452CkPnh-2" value="没有发送队列，直接调用驱动的发送函数" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;strokeWidth=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1023" y="835.25" width="118" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yODOv7n8D-4_452CkPnh-5" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;input_queue&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="728" y="665.25" width="137" height="50" as="geometry" />
        </mxCell>
        <mxCell id="l99JiHOt-DBDd0HDe1QJ-4" value="skb" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="1037" y="1034.47" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="qOfPLbBEWvOK8f_94mgU-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;loopback驱动&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1061" y="981.1299999999999" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="qOfPLbBEWvOK8f_94mgU-2" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=12;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.202;entryY=0.005;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" source="qOd44PC1JKEmm9A3ZsG9-3" target="qOd44PC1JKEmm9A3ZsG9-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="370.09000000000015" y="894.6099999999999" as="sourcePoint" />
            <mxPoint x="388" y="945" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="qOfPLbBEWvOK8f_94mgU-3" value="&lt;span style=&quot;font-size: 11px;&quot;&gt;网卡设备&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="194.5" y="797" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="qOfPLbBEWvOK8f_94mgU-5" value="软中断" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="918" y="1090.14" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="qOfPLbBEWvOK8f_94mgU-8" value="skb" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="238" y="730" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="HFIuAPXUtbpAWsCK2-Ek-1" value="&lt;span style=&quot;font-size: 11px;&quot;&gt;网卡驱动&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="136" y="970" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HFIuAPXUtbpAWsCK2-Ek-3" value="skb" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="1101.5" y="895.25" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="HFIuAPXUtbpAWsCK2-Ek-4" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=12;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" source="qOd44PC1JKEmm9A3ZsG9-4" target="l99JiHOt-DBDd0HDe1QJ-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1086" y="895.25" as="sourcePoint" />
            <mxPoint x="1086.6100000000001" y="945.6400000000001" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-5" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;dashed=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" source="XbONyzNP04PFWlW8N7Ye-1" target="Kq2USll9XBpFjJCKni5o-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="770" y="1185" as="sourcePoint" />
            <mxPoint x="820" y="1135" as="targetPoint" />
            <Array as="points">
              <mxPoint x="795" y="1176" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-6" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=12;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" target="XbONyzNP04PFWlW8N7Ye-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="464" y="1100" as="sourcePoint" />
            <mxPoint x="423.5" y="1189.66" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-7" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;dashed=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" target="LXg-4gbv711vPCfO4mxz-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="430" y="845" as="sourcePoint" />
            <mxPoint x="680" y="805" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-9" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" target="6xZyYvAfHEQ0KRO94rbm-11" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="430" y="820" as="sourcePoint" />
            <mxPoint x="720" y="665" as="targetPoint" />
            <Array as="points">
              <mxPoint x="460" y="820" />
              <mxPoint x="460" y="607" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-10" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=12;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1088" y="705.25" as="sourcePoint" />
            <mxPoint x="1087.5" y="798.25" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-11" value="skb" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="1048" y="728.25" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-12" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=14;entryX=1;entryY=0.75;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="l99JiHOt-DBDd0HDe1QJ-2" target="yODOv7n8D-4_452CkPnh-5" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1008" y="963.25" as="sourcePoint" />
            <mxPoint x="958" y="925.25" as="targetPoint" />
            <Array as="points">
              <mxPoint x="928" y="1030" />
              <mxPoint x="928" y="703" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-13" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=14;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="l99JiHOt-DBDd0HDe1QJ-2" target="LXg-4gbv711vPCfO4mxz-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="868" y="1115.25" as="sourcePoint" />
            <mxPoint x="918" y="1065.25" as="targetPoint" />
            <Array as="points">
              <mxPoint x="890" y="1085" />
              <mxPoint x="890" y="845" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-15" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;fontSize=14;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" parent="1" source="LXg-4gbv711vPCfO4mxz-1" target="6xZyYvAfHEQ0KRO94rbm-9" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="908" y="845.25" as="sourcePoint" />
            <mxPoint x="1008" y="745.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-17" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=14;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.707;entryY=-0.019;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" source="6xZyYvAfHEQ0KRO94rbm-11" target="qOd44PC1JKEmm9A3ZsG9-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="750" y="755" as="sourcePoint" />
            <mxPoint x="660" y="955" as="targetPoint" />
            <Array as="points">
              <mxPoint x="490" y="636" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-18" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=14;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" source="yODOv7n8D-4_452CkPnh-5" target="l99JiHOt-DBDd0HDe1QJ-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1098" y="585.25" as="sourcePoint" />
            <mxPoint x="1148" y="535.25" as="targetPoint" />
            <Array as="points">
              <mxPoint x="960" y="678" />
              <mxPoint x="960" y="1003" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-19" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=14;entryX=0.965;entryY=-0.029;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="LXg-4gbv711vPCfO4mxz-1" target="qOd44PC1JKEmm9A3ZsG9-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="897" y="865" as="sourcePoint" />
            <mxPoint x="870" y="1015" as="targetPoint" />
            <Array as="points">
              <mxPoint x="630" y="870" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-20" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=14;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="Kq2USll9XBpFjJCKni5o-4" target="LXg-4gbv711vPCfO4mxz-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="828" y="1165.25" as="sourcePoint" />
            <mxPoint x="878" y="1115.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-21" value="触发软中断" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="710" y="968.61" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-24" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;1. 释放skb&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;2. 清理 RingBuffer&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="637" y="890.25" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-30" value="" style="endArrow=classic;html=1;rounded=0;fontSize=14;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="nWpBOQFV4bgc_5KaAe95-30" target="nWpBOQFV4bgc_5KaAe95-26" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="720" y="240" as="sourcePoint" />
            <mxPoint x="730" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-31" value="接收队列" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="598.75" y="305" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-33" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;fontSize=14;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" source="nWpBOQFV4bgc_5KaAe95-26" target="nWpBOQFV4bgc_5KaAe95-43" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="652" y="357" as="sourcePoint" />
            <mxPoint x="842" y="352" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-34" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=14;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" source="nWpBOQFV4bgc_5KaAe95-2" target="Kq2USll9XBpFjJCKni5o-26" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="120" as="sourcePoint" />
            <mxPoint x="350" y="70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-35" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=14;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" source="Kq2USll9XBpFjJCKni5o-26" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="270" as="sourcePoint" />
            <mxPoint x="218" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-41" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;fontSize=14;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" source="d_tJmELuOyiOzMssTjBy-35" target="nWpBOQFV4bgc_5KaAe95-33" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="300" as="sourcePoint" />
            <mxPoint x="410" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-44" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontSize=14;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" source="Kq2USll9XBpFjJCKni5o-42" target="nWpBOQFV4bgc_5KaAe95-42" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="420" as="sourcePoint" />
            <mxPoint x="620" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-45" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 14px;&quot;&gt;TCP层进行发送判断，如果不发送，这次系统调用就直接返回了&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="739" y="382.5" width="168" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-49" value="&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#ff3333&quot;&gt;用户进程quota用尽或者其他进程需要CPU，触发软中断，稍后由中断进程发送&lt;/font&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="505.5" y="665" width="168" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-51" value="&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 直接发送&lt;br&gt;（用户进程系统态）&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="82" y="895.25" width="136" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Kq2USll9XBpFjJCKni5o-52" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=14;fontColor=#FF3333;exitX=0.25;exitY=1;exitDx=0;exitDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" source="Kq2USll9XBpFjJCKni5o-36" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="320" y="630" as="sourcePoint" />
            <mxPoint x="212" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xVCvVUrBOA8PH4xMLGNh-1" value="&lt;span style=&quot;text-align: left;&quot;&gt;拥塞控制&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fontSize=12;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="295" y="449" width="68" height="22" as="geometry" />
        </mxCell>
        <mxCell id="wZoLg5jzekMaBIYUtfhh-1" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=14;fontColor=#FF3333;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" source="qOfPLbBEWvOK8f_94mgU-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1310" y="970" as="sourcePoint" />
            <mxPoint x="1210" y="560" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1210" y="996" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wZoLg5jzekMaBIYUtfhh-2" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(255, 51, 51); background-color: initial;&quot;&gt;1. 环回设备驱动的发送：&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; （1）将 skb 从原来的 socket 剥离出来&lt;br&gt;&amp;nbsp; （2）将 skb 插入到 softnet_data 里面的 input_queue&lt;br&gt;2. 环回设备驱动的接收：&lt;br&gt;&amp;nbsp; &amp;nbsp; 从 softnet_data 的 input_queue 取出 skb ，送入协议栈&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="990" y="1100.32" width="367" height="99.68" as="geometry" />
        </mxCell>
        <mxCell id="wZoLg5jzekMaBIYUtfhh-3" value="&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;1.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;本机网络IO与跨机IO相比，节省了：&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;不需进入网卡发送队列、不需网卡真实发送、不触发硬中断&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp;&lt;font color=&quot;#000000&quot;&gt;2. 发送流程涉及哪些内存拷贝：&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp; （1）在传输层，内核申请 skb,&amp;nbsp; 将用户数据拷贝到 skb, 并加入到 socket 发送队列&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp; （2）为保证传输层的可靠传输，在传输层进入网络层，会拷贝一个新 skb 。原skb保留，知道收到ack才删除&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp; （3）IP层可能进行MTU分片（一个skb分为几个小skb）&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=14;fontColor=#FF3333;" parent="1" vertex="1">
          <mxGeometry x="121" y="1280" width="539" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="eB_64UlHf95_DAQvL4HT" name="3次握手">
    <mxGraphModel dx="946" dy="646" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
